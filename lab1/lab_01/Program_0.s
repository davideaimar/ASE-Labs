.data

a:   .word16 5, 0x01a1, 0x2f, 17, 0x2fe0, 1, 0x96a4, 0x2f, 3, 0x2f, 0xc025, 0x3c38
    .word16 0x91aa, 0xe505, 0xbe99, 0x0f5c, 0x08fd, 0x9f02, 0xac71, 0xa144, 0x68a5, 0x8388, 0xa557, 0x085a
    .word16 0xc91b, 0xf2b1, 0xdf11, 0x5203, 0xd20b, 0x799e, 0x944b, 0x1ced, 0xbf34, 0x55e0, 0x750f, 0x73bb
    .word16 0x84c5, 0x5d42, 0x952e, 0xa9f2, 0x68c1, 0x55c5, 0x65c8, 0xa173, 0x6bd5, 0x48ea, 0x2e19, 0x3459
    .word16 0x2f80, 0xa1e7, 0xdc56, 0x9936, 0x3b1b, 0x8c10, 0x1a4d, 0xc1c4, 0xe660, 0x87f0, 0x57eb, 0xcfd8
    .word16 0x82be, 0xc6b9, 0xb72f, 0x66c7, 0xcc19, 0x0979, 0xccaf, 0x02e4, 0xc727, 0xb753, 0x6383, 0x6abc
    .word16 0x6a9a, 0x3684, 0xe1ea, 0xcfda, 0x1ba1, 0x64be, 0x7268, 0x71ff, 0x8767, 0xc9c0, 0x9f5b, 0x2d9d
    .word16 0x2d61, 0x13ba, 0xbcb5, 0xf9f1, 0x0827, 0x34cd, 0xbbc9, 0x8b70, 0xa058, 0xd732, 0x2fa1, 0x2f5c
    .word16 0x2f2f, 0x6d1e, 0x59b5, 0xe93a
val: .byte 0x2f
res: .space 1

.code 

main:
    daddui r1, r0, 200 ; r1 counter register
    lbu r4, val(r0) ; r4=byte to search
    dadd   r2, r0, r0 ; r2 index register  (to increment by 1 in order to load 1 byte per time)
    dadd   r3, r0, r0 ; r3 result register (to increment by 1 at every hit)

loop:
    lb r5, a(r2) ; r5=a vector byte to check
    daddi r1, r1, -1
    bne r5, r4, next
    daddi r3, r3, 1
next:
    daddi r2, r2, 1
    bnez r1, loop

    sb r3, res(r0)

    HALT; end
